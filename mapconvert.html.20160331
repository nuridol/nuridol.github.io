<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<title>Google Maps 블로그용 변환기</title>
	<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
	<script type="text/javascript">
		_uacct = "UA-2211766-1";
		urchinTracker();
	</script>
	<script type="text/javascript" src="jquery-1.6.2.min.js"></script>
	<script type="text/javascript">
		function encodeMapCode() {
			var code = document.getElementById("htmlToEncode").value.replace(/^\s+|\s+$/, "");
			var convertedMapCode = "";
			if  (code.match(/^<iframe width=/)) {
				document.getElementById("testbox").innerHTML = code;
				var width  = $("#testbox").find('iframe').attr('width');
				if (parseInt(width, 10) > 0) {
					width = parseInt(width, 10) + 'px';
				}
				else {
					width = "100%";
				}
				var height = $("#testbox").find('iframe').attr('height');
				if (parseInt(height, 10) > 0) {
					height = parseInt(height, 10) + 'px';
				}
				else {
					height = "auto";
				}
				var mapSrc = $("#testbox").find('iframe').attr('src');
				var linkText = $("#testbox").find('a').text();
				var linkSrc = $("#testbox").find('a').attr('href');
				var mapLink = '<a href="' + linkSrc +'">' + linkText + '</a>';
				var style = 'style="width:' + width + ';height:'+ height + ';"';
				//convertedMapCode = convertedMapCode + '<embed src="' + mapSrc + '" ' + style + '></embed>';
				var convertedMapCode = '<object data="' + mapSrc + '" ' + style + ' type="text/html"></object>';
				convertedMapCode = convertedMapCode + '<div>' + mapLink + '</div><br /><a href="http://nuridol.net/mapconvert.html">NuRi\'s Tools - Google Maps 변환기</a>';
			}
			document.getElementById("htmlEncoded").value = convertedMapCode;
		}
	</script>
	<link href="/stylesheets/my.css" media="screen" rel="Stylesheet" type="text/css" />
</head>
<body>
    <div id="banner">
        <div id="banner-inner">
            <h1 id="banner-header"><a href="http://nuridol.net/mapconvert.html">NuRi's Tools</a></h1>
            <h2 id="banner-description">Google Maps 변환기 - Beta Version</h2>
        </div>
    </div>
	<div id="content-box">
		<div class="content">
			<div class="searchbox">
				<form action="">
    				<fieldset class="inputbox">
                    	<legend>Google Maps 변환기</legend>
							 변환할 구글맵 코드를 입력하세요.<br />
							<textarea id="htmlToEncode" cols="35" rows="3"></textarea><br />
							<input type="button" name="action" value="변환하기" onclick="encodeMapCode();return false;" /><br /><br />
							변환 결과:<br />
							<textarea id="htmlEncoded" cols="35" rows="3"></textarea><br />
    				</fieldset>
					</form>
				</div>
				<div class="notice">※ 구글 맵 링크 : <a href="http://maps.google.com/maps">영어</a> / <a href="http://local.google.co.jp/maps">일어</a></div><br />
				<div id="testbox"></div>
			</div>
		</div>
	<div id="footer">&copy; 2011 nuridol.net</div>
</body>
</html>
